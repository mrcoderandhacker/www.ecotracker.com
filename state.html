<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>State - EcoTracker</title>
    <style>
        body {
            margin:0;
            font-family: Arial, sans-serif;
            background-color: #1f1f1f;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
            padding-left: 17px;
        }
        header {
            background-color: #4CAF50;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 36px;
            width: 100%;
        }
        .navigation {
            background-color: #333;
            padding: 10px;
            text-align: center;
            width: 100%;
            overflow-x: auto;
            white-space: nowrap;
            margin-bottom: 20px;
        }
        .navigation a {
            color: #fff;
            text-decoration: none;
            margin: 0 30px;
            font-size: 20px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        .content-container {
            text-align: center;
            max-width: 820px;
            margin: 0 auto;
        }
        .slideshow-container {
            position: relative;
            max-width: 100%;
            margin: auto;
        }
        .slides {
            display: none;
            width: 100%;
            height: auto;
            border-radius: 8px;
            transition: transform 0.5s ease-in-out;
        }
        .slideshow-container img {
            width: 820px;
            height: 410px;
            border-radius: 8px;
            margin: auto;
        }
        .section {
            margin-bottom: 40px;
        }
        .section h2 {
            margin-bottom: 20px;
        }
        .section p {
            text-align: center;
            margin-bottom: 20px;
        }
        .garbage-summary h3 {
            margin: 0;
        }
        .detailed-info table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        .detailed-info table th,
        .detailed-info table td {
            padding: 10px;
            border: 1px solid #fff;
        }
        h1, h2 {
            color: #4CAF50;
        }
        #stateEcoRatio {
            color: white;
        }
        a:hover{
            color: grey;
        }
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #1f1f1f;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        header {
            background-color: #4CAF50;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 36px;
            width: 100%;
        }
        .navigation {
            background-color: #333333bb;
            padding: 10px;
            text-align: center;
            margin-bottom: 20px;
        }
        .navigation a {
            color: #fff;
            text-decoration: none;
            margin: 0 30px;
            font-size: 20px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        .summary-container {
            max-width: 800px;
            width: 100%;
            padding: 20px;
            background-color: #333;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            text-align: center;
            margin-top: 20px;
        }
        .summary-container h2 {
            margin-bottom: 20px;
            color: #4CAF50;
        }
        .summary-item {
            margin: 10px 0;
        }
        .chart-container {
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
        }
    </style>
</head>
<body>
    <header>
        EcoTracker
    </header>
    <div class="navigation">
        <a href="index.html">Home</a>
        <a href="state.html">State</a>
        <a href="zone_portfolio.html">Zones</a>
        <a href="add_data.html">Data Entry</a>
        <a href="about.html">About</a>
        <a href="compare.html">Compare</a>
        <a href="login.html">Login</a>
    </div>
    <div class="content-container">
        <h1>Karnataka State</h1>

        <!-- Slideshow container -->
        <div class="slideshow-container">
            <img class="slides" src="images/karnataka1.jpg" alt="Karnataka Image 1">
            <img class="slides" src="images/karnataka2.jpg" alt="Karnataka Image 2">
            <img class="slides" src="images/karnataka3.jpg" alt="Karnataka Image 3">
            <img class="slides" src="images/karnataka4.jpg" alt="Karnataka Image 4">
            <img class="slides" src="images/karnataka5.jpg" alt="Karnataka Image 5">
            <img class="slides" src="images/karnataka6.jpg" alt="Karnataka Image 6">
            <img class="slides" src="images/karnataka7.jpg" alt="Karnataka Image 7">
            <img class="slides" src="images/karnataka8.jpg" alt="Karnataka Image 8">
            <img class="slides" src="images/karnataka9.jpg" alt="Karnataka Image 9">
            <img class="slides" src="images/karnataka10.jpg" alt="Karnataka Image 10">
        </div>

        <h2 id="stateEcoRatio">Overall Eco Ratio: </h2>

        <div class="section">
            <h2>About Karnataka's Waste Management</h2>
            <p>
                Karnataka is a state in southwestern India with a population of over 60 million people. The state faces significant challenges in managing its waste due to rapid urbanization and industrialization. 
            </p>
            <p>
                The state government has implemented various waste management plans aimed at reducing waste generation, promoting recycling and reuse, and ensuring proper disposal of waste. These plans include public awareness campaigns, segregation of waste at the source, and the establishment of waste processing and recycling facilities.
            </p>
            <p>
                Despite these efforts, Karnataka still faces issues with waste management, particularly in urban areas. Continued efforts and cooperation between the government, private sector, and citizens are needed to improve waste management practices and achieve sustainability goals.
            </p>
        </div>

        <div class="section garbage-summary">
            <h2>Garbage Data Summary</h2>
            <h3 id="totalProduced">Total Garbage Produced: </h3>
            <h3 id="totalTreated">Total Garbage Treated: </h3>
        </div>

        <div class="section detailed-info">
            <h2>Detailed Information</h2>
            <table>
                <tr>
                    <th></th>
                    <th>Produced</th>
                    <th>Treated</th>
                </tr>
                
                <tr>
                    <td>Total Recyclable Garbage</td>
                    <td id="recyclableProduced"> tons</td>
                    <td id="recyclableTreated"> tons</td>
                </tr>
               <tr>
                  <td>Total Reducible Garbage</td>
                  <td id="reducibleProduced" >tons</td>
                  <td id="reducibleTreated">tons</td>
               </tr>
            </table>
            <h3 id="recyclingEfficiency">Recycling Efficiency: </h3>
            <div class="graph-container">
                <!-- Graph goes here -->
                <!-- Placeholder image for demonstration -->
                 
            </div>
        </div>
        <div class="section trend-analysis">
            <h2>Trend Analysis</h2>
            <p>Explore trends and patterns in waste management metrics to gain insights into Karnataka's waste management efforts over time.</p>
            <!-- Add trend analysis charts or insights here -->
        </div>
    </div>
    <script>
        function calculateStateData() {
            const zones = ['zone1', 'zone2', 'zone3', 'zone4', 'zone5', 'zone6', 'zone7', 'zone8', 'zone9', 'zone10'];
            let totalProduced = 0;
            let totalRecyclable = 0;
            let totalReducible = 0;
            let totalTreated = 0;
            let totalRecycled = 0;
            let totalEntries = 0;

            zones.forEach(zone => {
                const data = JSON.parse(localStorage.getItem(zone)) || [];
                data.forEach(entry => {
                    totalProduced += entry.totalProduced;
                    totalRecyclable += entry.totalRecyclable;
                    totalReducible += entry.totalReducible;
                    totalTreated += entry.totalTreated;
                    totalRecycled += entry.totalRecycled;
                    totalEntries += 1;
                });
            });

            const ecoRatio = ((totalTreated + totalRecycled) / totalProduced).toFixed(2);
            const recyclingEfficiency = ((totalRecycled / totalRecyclable) * 100).toFixed(2);
            
            document.getElementById('stateEcoRatio').textContent = `Overall Eco Ratio: ${ecoRatio}`;
document.getElementById('recyclingEfficiency').textContent = `Recycling Efficiency: ${recyclingEfficiency}%`;

document.getElementById('totalProduced').textContent = `Total Garbage Produced: ${totalProduced} tons`;
document.getElementById('totalTreated').textContent = `Total Garbage Treated: ${totalTreated+totalRecycled} tons`;

document.getElementById('recyclableProduced').textContent = `${totalRecyclable} tons`;
document.getElementById('recyclableTreated').textContent = `${totalRecycled} tons`;
document.getElementById('reducibleProduced').textContent = `${totalReducible} tons`;
document.getElementById('reducibleTreated').textContent = `${totalTreated} tons`;

        }

        function showSlides() {
            let slides = document.getElementsByClassName("slides");
            let index = 0;

            function displaySlide() {
                for (let i = 0; i < slides.length; i++) {
                    slides[i].style.display = "none";
                }
                index++;
                if (index > slides.length) {index = 1}slides[index - 1].style.display = "block";
                setTimeout(displaySlide, 3000); // Change image every 3 seconds
            }

            displaySlide();
        }

        calculateStateData();
        showSlides();
    </script>
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>State - EcoTracker</title>
        <style>
            body {
                margin: 0;
                font-family: Arial, sans-serif;
                background-color: #1f1f1f;
                color: #fff;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }
            header {
                background-color: #4CAF50;
                color: white;
                padding: 20px;
                text-align: center;
                font-size: 36px;
                width: 100%;
            }
            .navigation {
                background-color: #333;
                padding: 10px;
                text-align: center;
                width: 100%;
            }
            .navigation a {
                color: #fff;
                text-decoration: none;
                margin: 0 20px;
                font-size: 20px;
                font-weight: bold;
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            }
            .summary-container {
                max-width: 800px;
                width: 100%;
                padding: 20px;
                background-color: #333;
                border-radius: 8px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
                text-align: center;
                margin-top: 20px;
            }
            .summary-container h2 {
                margin-bottom: 20px;
                color: #4CAF50;
            }
            .summary-item {
                margin: 10px 0;
            }
            .chart-container {
                width: 100%;
                max-width: 800px;
                margin: 20px auto;
            }
        </style>
    </head>
    <body>
        
        <div class="summary-container">
            <h2>State Summary</h2>
            <div id="stateSummary"></div>
            <div class="chart-container">
                <canvas id="stateChart"></canvas>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script>
            function calculateStateSummary() {
                const zones = ['zone1', 'zone2', 'zone3', 'zone4', 'zone5', 'zone6', 'zone7', 'zone8', 'zone9', 'zone10'];
                let totalProduced = 0;
                let totalRecyclable = 0;
                let totalReducible = 0;
                let totalTreated = 0;
                let totalRecycled = 0;
    
                zones.forEach(zone => {
                    const zoneData = JSON.parse(localStorage.getItem(zone)) || [];
                    zoneData.forEach(entry => {
                        totalProduced += entry.totalProduced;
                        totalRecyclable += entry.totalRecyclable;
                        totalReducible += entry.totalReducible;
                        totalTreated += entry.totalTreated;
                        totalRecycled += entry.totalRecycled;
                    });
                });
    
                const ecoRatio = ((totalTreated + totalRecycled) / totalProduced * 100).toFixed(2);
                const recyclingEfficiency = ((totalRecycled / totalRecyclable) * 100).toFixed(2);
    
                return {
                    totalProduced,
                    totalRecyclable,
                    totalReducible,
                    totalTreated,
                    totalRecycled,
                    ecoRatio,
                    recyclingEfficiency
                };
            }
    
            const stateSummary = calculateStateSummary();
    
           
    
            const ctxx = document.getElementById('stateChart').getContext('2d');
            new Chart(ctxx, {
                type: 'bar',
                data: {
                    labels: ['Total Produced', 'Total Recyclable', 'Total Reducible', 'Total Treated', 'Total Recycled'],
                    datasets: [
                        {
                            label: 'State Summary',
                            data: [stateSummary.totalProduced, stateSummary.totalRecyclable, stateSummary.totalReducible, stateSummary.totalTreated, stateSummary.totalRecycled],
                            backgroundColor: 'rgba(54, 162, 235, 0.2)',
                            borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>


<script>
    let slideIndex = 0;
    showSlides();

    function showSlides() {
        let i;
        let slides = document.getElementsByClassName("slides");
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slideIndex++;
        if (slideIndex > slides.length) {slideIndex = 1}
        slides[slideIndex-1].style.display = "block";
        setTimeout(showSlides, 3000); // Change image every 2 seconds







    }
    </script>
    
 </body>
</html>

</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recycling Data Pie Chart</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #1f1f1f;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        header {
            background-color: #4CAF50;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 36px;
            width: 100%;
        }
        .navigation {
            background-color: #333;
            padding: 10px;
            text-align: center;
            width: 100%;
        }
        .navigation a {
            color: #fff;
            text-decoration: none;
            margin: 0 20px;
            font-size: 20px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        .chart-container {
            max-width: 600px;
            width: 100%;
            padding: 20px;
            background-color: #333;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            text-align: center;
            margin-top: 20px;
        }
        .chart-container h2 {
            margin-bottom: 20px;
            color: #4CAF50;
        }
        canvas {
            background-color: #fff;
            border-radius: 8px;
            justify-content: center;
            max-height: 100vh;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="chart-container">
        <h2>Recycling Data Overview</h2>
        <canvas id="myPieChart" width="400" height="400"></canvas>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const zones = ['zone1', 'zone2', 'zone3', 'zone4', 'zone5', 'zone6', 'zone7', 'zone8', 'zone9', 'zone10'];

            let totalRecycled = 0;
            let totalReducible = 0;
            let totalRecyclable = 0;
            let totalTreated = 0;

            zones.forEach(zone => {
                const zoneData = JSON.parse(localStorage.getItem(zone)) || [];
                console.log(`Data for ${zone}:`, zoneData);
                zoneData.forEach(entry => {
                    totalRecycled += entry.totalRecycled;
                    totalReducible += entry.totalReducible;
                    totalRecyclable += entry.totalRecyclable;
                    totalTreated += entry.totalTreated;
                });
            });

            console.log('Total Recycled:', totalRecycled);
            console.log('Total Reducible:', totalReducible);
            console.log('Total Recyclable:', totalRecyclable);
            console.log('Total Treated:', totalTreated);

            const total = totalRecycled + totalReducible + totalRecyclable + totalTreated;

            if (total === 0) {
                alert('No data available to display.');
                return;
            }

            const data = [
                { label: 'Recycled', value: totalRecycled },
                { label: 'Reducible', value: totalReducible },
                { label: 'Recyclable', value: totalRecyclable },
                { label: 'Treated', value: totalTreated }
            ];

            const ctx = document.getElementById('myPieChart').getContext('2d');

            const myPieChart = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: data.map(item => item.label),
                    datasets: [{
                        data: data.map(item => item.value),
                        backgroundColor: ['#333', '#36A2EB', '#FFCE56', '#4BC0C0']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    title: {
                        display: true,
                        text: 'Recycling Data Overview'
                    }
                }
            });
        });
    </script>
</body>
</html>


